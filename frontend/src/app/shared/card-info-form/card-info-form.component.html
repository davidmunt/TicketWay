<!-- <div class="card-form-container">
  <h2>Información de Pago</h2>
  <form [formGroup]="cardForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="numero">Número de tarjeta</label>
      <input id="numero" type="text" maxlength="16" formControlName="numero" placeholder="1234567890123456" />
      <div class="error" *ngIf="cardForm.get('numero')?.touched && cardForm.get('numero')?.invalid">
        Introduce un número de tarjeta válido (16 dígitos).
      </div>
    </div>

    <div class="form-group">
      <label for="fechaCaducidad">Fecha de caducidad</label>
      <input id="fechaCaducidad" type="text" formControlName="fechaCaducidad" placeholder="MM/YY" />
      <div class="error" *ngIf="cardForm.get('fechaCaducidad')?.touched && cardForm.get('fechaCaducidad')?.invalid">
        Formato requerido: MM/YY
      </div>
    </div>

    <div class="form-group">
      <label for="cvv">CVV</label>
      <input id="cvv" type="text" maxlength="4" formControlName="cvv" placeholder="123" />
      <div class="error" *ngIf="cardForm.get('cvv')?.touched && cardForm.get('cvv')?.invalid">Introduce un CVV válido (3 o 4 dígitos).</div>
    </div>

    <button type="submit" [disabled]="cardForm.invalid">Confirmar pago</button>
  </form>
</div> -->

<div class="card-form-container">
  <form (ngSubmit)="onSubmit()" [formGroup]="cardForm">
    <!-- Nombre del titular -->
    <label class="label">Nombre del titular</label>
    <input type="text" formControlName="name" placeholder="Ej: Juan Pérez" class="input" />
    <div class="error" *ngIf="cardForm.controls['name'].touched && cardForm.controls['name'].invalid">El nombre es obligatorio.</div>

    <!-- Stripe Card Element -->
    <label class="label">Datos de la tarjeta</label>
    <div id="card-element" class="stripe-card-element"></div>

    <!-- Error de Stripe -->
    <div id="card-errors" class="stripe-error">{{ stripeError }}</div>

    <!-- Botón -->
    <button type="submit" class="btn-pay" [disabled]="loading || cardForm.invalid">
      <span *ngIf="!loading">Pagar</span>
      <div *ngIf="loading" class="spinner"></div>
    </button>
  </form>
</div>
